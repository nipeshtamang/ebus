import{a_ as l,a$ as c,j as r,ax as g,h as p}from"./ui-vendor-DMBPzNwu.js";import{r as f}from"./react-vendor-C8rorRqO.js";import{a as h}from"./utils-vendor-BIYRr1x_.js";function a(...e){return l(c(e))}function y(e,s){let o;return(...n)=>{o||(e(...n),o=!0,setTimeout(()=>o=!1,s))}}const m=p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),b=f.forwardRef(({className:e,variant:s,size:o,asChild:n=!1,...i},d)=>{const u=n?g:"button";return r.jsx(u,{"data-slot":"button",className:a(m({variant:s,size:o,className:e})),ref:d,...i})});b.displayName="Button";function B({className:e,...s}){return r.jsx("div",{"data-slot":"card",className:a("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function $({className:e,...s}){return r.jsx("div",{"data-slot":"card-header",className:a("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function w({className:e,...s}){return r.jsx("div",{"data-slot":"card-title",className:a("leading-none font-semibold",e),...s})}function P({className:e,...s}){return r.jsx("div",{"data-slot":"card-description",className:a("text-muted-foreground text-sm",e),...s})}function I({className:e,...s}){return r.jsx("div",{"data-slot":"card-content",className:a("px-6",e),...s})}function S({className:e,type:s,...o}){return r.jsx("input",{type:s,"data-slot":"input",className:a("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...o})}const t=h.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{const s=localStorage.getItem("auth_token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));t.interceptors.response.use(e=>e,async e=>{var o,n;const s=e.config;return((o=e.response)==null?void 0:o.status)===401&&!s._retry&&(s._retry=!0,localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),delete t.defaults.headers.common.Authorization,window.location.pathname!=="/LoginPage"&&(window.location.href="/LoginPage")),((n=e.response)==null?void 0:n.status)>=500&&console.error("Server error:",e.response.data),Promise.reject(e)});const j={login:e=>t.post("/auth/login",e),sendOTP:e=>t.post("/auth/send-otp",e),resetPassword:e=>t.post("/auth/reset-password",e)},A={getAllSchedules:()=>t.get("/schedules"),getScheduleById:e=>t.get(`/schedules/${e}`),searchSchedules:e=>t.get("/schedules/search",{params:e}),createSchedule:e=>t.post("/schedules",e),updateSchedule:(e,s)=>t.patch(`/schedules/${e}`,s),deleteSchedule:e=>t.delete(`/schedules/${e}`),regenerateSeats:e=>t.post(`/schedules/${e}/regenerate-seats`)},_={getMyBookings:()=>t.get("/bookings/me"),createBooking:e=>t.post("/bookings",e),cancelBooking:e=>t.delete(`/bookings/${e}/cancel`),processPayment:(e,s)=>t.post(`/bookings/${e}/payments`,s),getAllBookings:e=>t.get("/bookings",{params:e}),getBookingById:e=>t.get(`/bookings/${e}`),createBookingForUser:e=>t.post("/bookings/admin",e),updateBookingStatus:(e,s)=>t.patch(`/bookings/${e}/status`,s),adminCancelBooking:(e,s)=>t.delete(`/bookings/${e}/cancel-admin`,{data:s}),resetSeatStatus:e=>t.post(`/bookings/reset-seats/${e}`),cleanupOrphanedBookings:()=>t.post("/bookings/cleanup-orphaned"),getTicketByNumber:e=>t.get(`/bookings/ticket/${e}`),removeSeatFromBooking:(e,s)=>t.delete(`/bookings/${e}/seat/${s}`)},C={getPaymentHistory:e=>t.get("/payments",{params:e}),getPaymentById:e=>t.get(`/payments/${e}`),processPayment:e=>t.post("/payments",e),refundPayment:(e,s)=>t.post(`/payments/${e}/refund`,s)},R={getAllUsers:()=>t.get("/users"),getUserById:e=>t.get(`/users/${e}`),updateUserRole:(e,s)=>t.patch(`/users/${e}/role`,s),deleteUser:e=>t.delete(`/users/${e}`),updateProfile:e=>t.patch("/users/profile",e),changePassword:e=>t.patch("/users/change-password",e)},N={getAllRoutes:()=>t.get("/fleet/routes"),getRouteById:e=>t.get(`/fleet/routes/${e}`),createRoute:e=>t.post("/fleet/routes",e),updateRoute:(e,s)=>t.patch(`/fleet/routes/${e}`,s),deleteRoute:e=>t.delete(`/fleet/routes/${e}`),getAllBuses:()=>t.get("/fleet/buses"),getBusById:e=>t.get(`/fleet/buses/${e}`),createBus:e=>t.post("/fleet/buses",e),updateBus:(e,s)=>t.patch(`/fleet/buses/${e}`,s),deleteBus:e=>t.delete(`/fleet/buses/${e}`),getAllLocations:()=>t.get("/fleet/locations")};export{b as B,B as C,S as I,$ as a,_ as b,w as c,I as d,a as e,t as f,P as g,j as h,m as i,N as j,C as p,A as s,y as t,R as u};
