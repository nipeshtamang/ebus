import{j as i,a4 as Tn,a5 as En,a6 as Pn,a7 as _n,a8 as Yn,a9 as Bn,N as Fn,B as De,aa as An,g as $e,r as In,S as Hn,ab as qn,f as ct,G as lt,ac as dt,M as Ct,T as Rn,d as zn,b as $n,l as Gn,ad as ut,ae as Ln,af as Zn,ag as Qn}from"./ui-vendor-DMBPzNwu.js";import{r as O,c as b,f as Vn}from"./react-vendor-C8rorRqO.js";import{B as ft}from"./badge-BRWl9YMx.js";import{e as W,i as ht,B as $,I as Xn,j as Un,C as ie,a as he,c as me,g as Kn,d as ce,s as Jn,b as er}from"./api-C7d73vgv.js";import{L as ge}from"./label-CZBUESOW.js";import{R as tr,a as mt}from"./radio-group-C06cumB1.js";import{A as nr,a as rr,b as ar,c as sr,d as or,j as ir,e as cr,f as lr}from"./AdminLayout-lzRtiUax.js";import{B as dr}from"./bus-seat-layout-Q92fS2Nq.js";import{f as te}from"./utils-vendor-BIYRr1x_.js";import"./index-DnDBnOSx.js";import"./query-vendor-Dv9SXHgC.js";function Xe({...e}){return i.jsx(Tn,{"data-slot":"popover",...e})}const Be=O.forwardRef(({...e},t)=>i.jsx(En,{"data-slot":"popover-trigger",ref:t,...e}));Be.displayName="PopoverTrigger";function Ue({className:e,align:t="center",sideOffset:n=4,...r}){return i.jsx(Pn,{children:i.jsx(_n,{"data-slot":"popover-content",align:t,sideOffset:n,className:W("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}const Ge={},Me={};function ke(e,t){try{const r=(Ge[e]||(Ge[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return r in Me?Me[r]:gt(r,r.split(":"))}catch{if(e in Me)return Me[e];const n=e==null?void 0:e.match(ur);return n?gt(e,n.slice(1)):NaN}}const ur=/([+-]\d\d):?(\d\d)?/;function gt(e,t){const n=+t[0],r=+(t[1]||0);return Me[e]=n>0?n*60+r:n*60-r}class K extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ke(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Tt(this),Ke(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new K(...n,t):new K(Date.now(),t)}withTimeZone(t){return new K(+this,t)}getTimezoneOffset(){return-ke(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Ke(this),+this}[Symbol.for("constructDateFrom")](t){return new K(+new Date(t),this.timeZone)}}const yt=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!yt.test(e))return;const t=e.replace(yt,"$1UTC");K.prototype[t]&&(e.startsWith("get")?K.prototype[e]=function(){return this.internal[t]()}:(K.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),fr(this),+this},K.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Ke(this),+this}))});function Ke(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function fr(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Tt(e)}function Tt(e){const t=ke(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),a=-new Date(+n).getTimezoneOffset(),s=r-a,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();s&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+s);const o=r-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);const l=ke(e.timeZone,e),m=-new Date(+e).getTimezoneOffset()-l,u=l!==t,x=m-o;if(u&&x){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+x);const g=ke(e.timeZone,e),N=l-g;N&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+N),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+N))}}class q extends K{static tz(t,...n){return n.length?new q(...n,t):new q(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),a=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,a]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${r} ${n} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,a]=this.tzComponents();return`${t} GMT${n}${r}${a} (${hr(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[n,r,a]}withTimeZone(t){return new q(+this,t)}[Symbol.for("constructDateFrom")](t){return new q(+new Date(t),this.timeZone)}}function hr(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}var p;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(p||(p={}));var B;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(B||(B={}));var V;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(V||(V={}));var z;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(z||(z={}));const Et=6048e5,mr=864e5,xt=Symbol.for("constructDateFrom");function I(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&xt in e?e[xt](t):e instanceof Date?new e.constructor(t):new Date(t)}function _(e,t){return I(t||e,e)}function Pt(e,t,n){const r=_(e,n==null?void 0:n.in);return isNaN(t)?I(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function _t(e,t,n){const r=_(e,n==null?void 0:n.in);if(isNaN(t))return I(e,NaN);if(!t)return r;const a=r.getDate(),s=I(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const c=s.getDate();return a>=c?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}let gr={};function Se(){return gr}function xe(e,t){var o,l,d,m;const n=Se(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,a=_(e,t==null?void 0:t.in),s=a.getDay(),c=(s<r?7:0)+s-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function je(e,t){return xe(e,{...t,weekStartsOn:1})}function Yt(e,t){const n=_(e,t==null?void 0:t.in),r=n.getFullYear(),a=I(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=je(a),c=I(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const o=je(c);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function bt(e){const t=_(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function be(e,...t){const n=I.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Oe(e,t){const n=_(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Bt(e,t,n){const[r,a]=be(n==null?void 0:n.in,e,t),s=Oe(r),c=Oe(a),o=+s-bt(s),l=+c-bt(c);return Math.round((o-l)/mr)}function yr(e,t){const n=Yt(e,t),r=I(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),je(r)}function xr(e,t,n){return Pt(e,t*7,n)}function br(e,t,n){return _t(e,t*12,n)}function wr(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=I.bind(null,a));const s=_(a,r);(!n||n<s||isNaN(+s))&&(n=s)}),I(r,n||NaN)}function pr(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=I.bind(null,a));const s=_(a,r);(!n||n>s||isNaN(+s))&&(n=s)}),I(r,n||NaN)}function vr(e,t,n){const[r,a]=be(n==null?void 0:n.in,e,t);return+Oe(r)==+Oe(a)}function Ft(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Nr(e){return!(!Ft(e)&&typeof e!="number"||isNaN(+_(e)))}function Dr(e,t,n){const[r,a]=be(n==null?void 0:n.in,e,t),s=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return s*12+c}function Mr(e,t){const n=_(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function kr(e,t){const[n,r]=be(e,t.start,t.end);return{start:n,end:r}}function jr(e,t){const{start:n,end:r}=kr(t==null?void 0:t.in,e);let a=+n>+r;const s=a?+n:+r,c=a?r:n;c.setHours(0,0,0,0),c.setDate(1);let o=1;const l=[];for(;+c<=s;)l.push(I(n,c)),c.setMonth(c.getMonth()+o);return a?l.reverse():l}function Or(e,t){const n=_(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Sr(e,t){const n=_(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function At(e,t){const n=_(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function It(e,t){var o,l,d,m;const n=Se(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,a=_(e,t==null?void 0:t.in),s=a.getDay(),c=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function Wr(e,t){return It(e,{...t,weekStartsOn:1})}const Cr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tr=(e,t,n)=>{let r;const a=Cr[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Le(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Er={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_r={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yr={date:Le({formats:Er,defaultWidth:"full"}),time:Le({formats:Pr,defaultWidth:"full"}),dateTime:Le({formats:_r,defaultWidth:"full"})},Br={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fr=(e,t,n,r)=>Br[e];function ve(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):c;a=e.formattingValues[o]||e.formattingValues[c]}else{const c=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[o]||e.values[c]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Ar={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ir={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$r=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Gr={ordinalNumber:$r,era:ve({values:Ar,defaultWidth:"wide"}),quarter:ve({values:Ir,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ve({values:Hr,defaultWidth:"wide"}),day:ve({values:qr,defaultWidth:"wide"}),dayPeriod:ve({values:Rr,defaultWidth:"wide",formattingValues:zr,defaultFormattingWidth:"wide"})};function Ne(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const c=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Zr(o,u=>u.test(c)):Lr(o,u=>u.test(c));let d;d=e.valueCallback?e.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const m=t.slice(c.length);return{value:d,rest:m}}}function Lr(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Zr(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Qr(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let c=e.valueCallback?e.valueCallback(s[0]):s[0];c=n.valueCallback?n.valueCallback(c):c;const o=t.slice(a.length);return{value:c,rest:o}}}const Vr=/^(\d+)(th|st|nd|rd)?/i,Xr=/\d+/i,Ur={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kr={any:[/^b/i,/^(a|c)/i]},Jr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ea={any:[/1/i,/2/i,/3/i,/4/i]},ta={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},na={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ra={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aa={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sa={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oa={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ia={ordinalNumber:Qr({matchPattern:Vr,parsePattern:Xr,valueCallback:e=>parseInt(e,10)}),era:Ne({matchPatterns:Ur,defaultMatchWidth:"wide",parsePatterns:Kr,defaultParseWidth:"any"}),quarter:Ne({matchPatterns:Jr,defaultMatchWidth:"wide",parsePatterns:ea,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ne({matchPatterns:ta,defaultMatchWidth:"wide",parsePatterns:na,defaultParseWidth:"any"}),day:Ne({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any"}),dayPeriod:Ne({matchPatterns:sa,defaultMatchWidth:"any",parsePatterns:oa,defaultParseWidth:"any"})},Je={code:"en-US",formatDistance:Tr,formatLong:Yr,formatRelative:Fr,localize:Gr,match:ia,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ca(e,t){const n=_(e,t==null?void 0:t.in);return Bt(n,At(n))+1}function Ht(e,t){const n=_(e,t==null?void 0:t.in),r=+je(n)-+yr(n);return Math.round(r/Et)+1}function qt(e,t){var m,u,x,g;const n=_(e,t==null?void 0:t.in),r=n.getFullYear(),a=Se(),s=(t==null?void 0:t.firstWeekContainsDate)??((u=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(x=a.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,c=I((t==null?void 0:t.in)||e,0);c.setFullYear(r+1,0,s),c.setHours(0,0,0,0);const o=xe(c,t),l=I((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const d=xe(l,t);return+n>=+o?r+1:+n>=+d?r:r-1}function la(e,t){var o,l,d,m;const n=Se(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=qt(e,t),s=I((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),xe(s,t)}function Rt(e,t){const n=_(e,t==null?void 0:t.in),r=+xe(n,t)-+la(n,t);return Math.round(r/Et)+1}function P(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const oe={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return P(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):P(n+1,2)},d(e,t){return P(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return P(e.getHours()%12||12,t.length)},H(e,t){return P(e.getHours(),t.length)},m(e,t){return P(e.getMinutes(),t.length)},s(e,t){return P(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return P(a,t.length)}},ye={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wt={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return oe.y(e,t)},Y:function(e,t,n,r){const a=qt(e,r),s=a>0?a:1-a;if(t==="YY"){const c=s%100;return P(c,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):P(s,t.length)},R:function(e,t){const n=Yt(e);return P(n,t.length)},u:function(e,t){const n=e.getFullYear();return P(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return P(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return P(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return oe.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return P(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Rt(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):P(a,t.length)},I:function(e,t,n){const r=Ht(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):P(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):oe.d(e,t)},D:function(e,t,n){const r=ca(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):P(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return P(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return P(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return P(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=ye.noon:r===0?a=ye.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=ye.evening:r>=12?a=ye.afternoon:r>=4?a=ye.morning:a=ye.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return oe.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):oe.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):P(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):P(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):oe.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):oe.s(e,t)},S:function(e,t){return oe.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return vt(r);case"XXXX":case"XX":return le(r);case"XXXXX":case"XXX":default:return le(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return vt(r);case"xxxx":case"xx":return le(r);case"xxxxx":case"xxx":default:return le(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pt(r,":");case"OOOO":default:return"GMT"+le(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pt(r,":");case"zzzz":default:return"GMT"+le(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return P(r,t.length)},T:function(e,t,n){return P(+e,t.length)}};function pt(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+P(s,2)}function vt(e,t){return e%60===0?(e>0?"-":"+")+P(Math.abs(e)/60,2):le(e,t)}function le(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=P(Math.trunc(r/60),2),s=P(r%60,2);return n+a+t+s}const Nt=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zt=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},da=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Nt(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Nt(r,t)).replace("{{time}}",zt(a,t))},ua={p:zt,P:da},fa=/^D+$/,ha=/^Y+$/,ma=["D","DD","YY","YYYY"];function ga(e){return fa.test(e)}function ya(e){return ha.test(e)}function xa(e,t,n){const r=ba(e,t,n);if(console.warn(r),ma.includes(e))throw new RangeError(r)}function ba(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pa=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,va=/^'([^]*?)'?$/,Na=/''/g,Da=/[a-zA-Z]/;function Ma(e,t,n){var m,u,x,g,N,y,D,M;const r=Se(),a=(n==null?void 0:n.locale)??r.locale??Je,s=(n==null?void 0:n.firstWeekContainsDate)??((u=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(x=r.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((y=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((M=(D=r.locale)==null?void 0:D.options)==null?void 0:M.weekStartsOn)??0,o=_(e,n==null?void 0:n.in);if(!Nr(o))throw new RangeError("Invalid time value");let l=t.match(pa).map(k=>{const w=k[0];if(w==="p"||w==="P"){const C=ua[w];return C(k,a.formatLong)}return k}).join("").match(wa).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const w=k[0];if(w==="'")return{isToken:!1,value:ka(k)};if(wt[w])return{isToken:!0,value:k};if(w.match(Da))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:k}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const d={firstWeekContainsDate:s,weekStartsOn:c,locale:a};return l.map(k=>{if(!k.isToken)return k.value;const w=k.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ya(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ga(w))&&xa(w,t,String(e));const C=wt[w[0]];return C(o,w,a.localize,d)}).join("")}function ka(e){const t=e.match(va);return t?t[1].replace(Na,"'"):e}function ja(e,t){const n=_(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),s=I(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Oa(e,t){return _(e,t==null?void 0:t.in).getMonth()}function Sa(e,t){return _(e,t==null?void 0:t.in).getFullYear()}function Wa(e,t){return+_(e)>+_(t)}function Ca(e,t){return+_(e)<+_(t)}function Ta(e,t,n){const[r,a]=be(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Ea(e,t,n){const[r,a]=be(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()}function Pa(e,t,n){const r=_(e,n==null?void 0:n.in),a=r.getFullYear(),s=r.getDate(),c=I(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const o=ja(c);return r.setMonth(t,Math.min(s,o)),r}function _a(e,t,n){const r=_(e,n==null?void 0:n.in);return isNaN(+r)?I(e,NaN):(r.setFullYear(t),r)}const Dt=5,Ya=4;function Ba(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,a=t.addDays(e,-r+1),s=t.addDays(a,Dt*7-1);return t.getMonth(e)===t.getMonth(s)?Dt:Ya}function $t(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-1*6):t.addDays(n,-1*(r-1))}function Fa(e,t){const n=$t(e,t),r=Ba(e,t);return t.addDays(n,r*7-1)}class ae{constructor(t,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?q.tz(this.options.timeZone):new this.Date},this.newDate=(r,a,s)=>{var c;return(c=this.overrides)!=null&&c.newDate?this.overrides.newDate(r,a,s):this.options.timeZone?new q(r,a,s,this.options.timeZone):new Date(r,a,s)},this.addDays=(r,a)=>{var s;return(s=this.overrides)!=null&&s.addDays?this.overrides.addDays(r,a):Pt(r,a)},this.addMonths=(r,a)=>{var s;return(s=this.overrides)!=null&&s.addMonths?this.overrides.addMonths(r,a):_t(r,a)},this.addWeeks=(r,a)=>{var s;return(s=this.overrides)!=null&&s.addWeeks?this.overrides.addWeeks(r,a):xr(r,a)},this.addYears=(r,a)=>{var s;return(s=this.overrides)!=null&&s.addYears?this.overrides.addYears(r,a):br(r,a)},this.differenceInCalendarDays=(r,a)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,a):Bt(r,a)},this.differenceInCalendarMonths=(r,a)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,a):Dr(r,a)},this.eachMonthOfInterval=r=>{var a;return(a=this.overrides)!=null&&a.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):jr(r)},this.endOfBroadcastWeek=r=>{var a;return(a=this.overrides)!=null&&a.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Fa(r,this)},this.endOfISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.endOfISOWeek?this.overrides.endOfISOWeek(r):Wr(r)},this.endOfMonth=r=>{var a;return(a=this.overrides)!=null&&a.endOfMonth?this.overrides.endOfMonth(r):Mr(r)},this.endOfWeek=(r,a)=>{var s;return(s=this.overrides)!=null&&s.endOfWeek?this.overrides.endOfWeek(r,a):It(r,this.options)},this.endOfYear=r=>{var a;return(a=this.overrides)!=null&&a.endOfYear?this.overrides.endOfYear(r):Sr(r)},this.format=(r,a,s)=>{var o;const c=(o=this.overrides)!=null&&o.format?this.overrides.format(r,a,this.options):Ma(r,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.getISOWeek?this.overrides.getISOWeek(r):Ht(r)},this.getMonth=(r,a)=>{var s;return(s=this.overrides)!=null&&s.getMonth?this.overrides.getMonth(r,this.options):Oa(r,this.options)},this.getYear=(r,a)=>{var s;return(s=this.overrides)!=null&&s.getYear?this.overrides.getYear(r,this.options):Sa(r,this.options)},this.getWeek=(r,a)=>{var s;return(s=this.overrides)!=null&&s.getWeek?this.overrides.getWeek(r,this.options):Rt(r,this.options)},this.isAfter=(r,a)=>{var s;return(s=this.overrides)!=null&&s.isAfter?this.overrides.isAfter(r,a):Wa(r,a)},this.isBefore=(r,a)=>{var s;return(s=this.overrides)!=null&&s.isBefore?this.overrides.isBefore(r,a):Ca(r,a)},this.isDate=r=>{var a;return(a=this.overrides)!=null&&a.isDate?this.overrides.isDate(r):Ft(r)},this.isSameDay=(r,a)=>{var s;return(s=this.overrides)!=null&&s.isSameDay?this.overrides.isSameDay(r,a):vr(r,a)},this.isSameMonth=(r,a)=>{var s;return(s=this.overrides)!=null&&s.isSameMonth?this.overrides.isSameMonth(r,a):Ta(r,a)},this.isSameYear=(r,a)=>{var s;return(s=this.overrides)!=null&&s.isSameYear?this.overrides.isSameYear(r,a):Ea(r,a)},this.max=r=>{var a;return(a=this.overrides)!=null&&a.max?this.overrides.max(r):wr(r)},this.min=r=>{var a;return(a=this.overrides)!=null&&a.min?this.overrides.min(r):pr(r)},this.setMonth=(r,a)=>{var s;return(s=this.overrides)!=null&&s.setMonth?this.overrides.setMonth(r,a):Pa(r,a)},this.setYear=(r,a)=>{var s;return(s=this.overrides)!=null&&s.setYear?this.overrides.setYear(r,a):_a(r,a)},this.startOfBroadcastWeek=(r,a)=>{var s;return(s=this.overrides)!=null&&s.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):$t(r,this)},this.startOfDay=r=>{var a;return(a=this.overrides)!=null&&a.startOfDay?this.overrides.startOfDay(r):Oe(r)},this.startOfISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.startOfISOWeek?this.overrides.startOfISOWeek(r):je(r)},this.startOfMonth=r=>{var a;return(a=this.overrides)!=null&&a.startOfMonth?this.overrides.startOfMonth(r):Or(r)},this.startOfWeek=(r,a)=>{var s;return(s=this.overrides)!=null&&s.startOfWeek?this.overrides.startOfWeek(r,this.options):xe(r,this.options)},this.startOfYear=r=>{var a;return(a=this.overrides)!=null&&a.startOfYear?this.overrides.startOfYear(r):At(r)},this.options={locale:Je,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let a=0;a<10;a++)r[a.toString()]=n.format(a);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}}const J=new ae;class Gt{constructor(t,n,r=J){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Aa{constructor(t,n){this.date=t,this.weeks=n}}class Ia{constructor(t,n){this.days=n,this.weekNumber=t}}function ne(e,t,n=!1,r=J){let{from:a,to:s}=e;const{differenceInCalendarDays:c,isSameDay:o}=r;return a&&s?(c(s,a)<0&&([a,s]=[s,a]),c(t,a)>=(n?1:0)&&c(s,t)>=(n?1:0)):!n&&s?o(s,t):!n&&a?o(a,t):!1}function Lt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function et(e){return!!(e&&typeof e=="object"&&"from"in e)}function Zt(e){return!!(e&&typeof e=="object"&&"after"in e)}function Qt(e){return!!(e&&typeof e=="object"&&"before"in e)}function Vt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Xt(e,t){return Array.isArray(e)&&e.every(t.isDate)}function re(e,t,n=J){const r=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:s,isAfter:c}=n;return r.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return a(e,o);if(Xt(o,n))return o.includes(e);if(et(o))return ne(o,e,!1,n);if(Vt(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(e.getDay()):o.dayOfWeek===e.getDay();if(Lt(o)){const l=s(o.before,e),d=s(o.after,e),m=l>0,u=d<0;return c(o.before,o.after)?u&&m:m||u}return Zt(o)?s(e,o.after)>0:Qt(o)?s(o.before,e)>0:typeof o=="function"?o(e):!1})}function Ha(e,t,n,r,a){const{disabled:s,hidden:c,modifiers:o,showOutsideDays:l,broadcastCalendar:d,today:m}=t,{isSameDay:u,isSameMonth:x,startOfMonth:g,isBefore:N,endOfMonth:y,isAfter:D}=a,M=n&&g(n),k=r&&y(r),w={[B.focused]:[],[B.outside]:[],[B.disabled]:[],[B.hidden]:[],[B.today]:[]},C={};for(const h of e){const{date:j,displayMonth:f}=h,v=!!(f&&!x(j,f)),F=!!(M&&N(j,M)),A=!!(k&&D(j,k)),R=!!(s&&re(j,s,a)),G=!!(c&&re(j,c,a))||F||A||!d&&!l&&v||d&&l===!1&&v,de=u(j,m??a.today());v&&w.outside.push(h),R&&w.disabled.push(h),G&&w.hidden.push(h),de&&w.today.push(h),o&&Object.keys(o).forEach(ue=>{const fe=o==null?void 0:o[ue];fe&&re(j,fe,a)&&(C[ue]?C[ue].push(h):C[ue]=[h])})}return h=>{const j={[B.focused]:!1,[B.disabled]:!1,[B.hidden]:!1,[B.outside]:!1,[B.today]:!1},f={};for(const v in w){const F=w[v];j[v]=F.some(A=>A===h)}for(const v in C)f[v]=C[v].some(F=>F===h);return{...j,...f}}}function qa(e,t,n={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[s])=>(n[s]?a.push(n[s]):t[B[s]]?a.push(t[B[s]]):t[V[s]]&&a.push(t[V[s]]),a),[t[p.Day]])}function Ra(e){return b.createElement("button",{...e})}function za(e){return b.createElement("span",{...e})}function $a(e){const{size:t=24,orientation:n="left",className:r}=e;return b.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&b.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&b.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&b.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&b.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ga(e){const{day:t,modifiers:n,...r}=e;return b.createElement("td",{...r})}function La(e){const{day:t,modifiers:n,...r}=e,a=b.useRef(null);return b.useEffect(()=>{var s;n.focused&&((s=a.current)==null||s.focus())},[n.focused]),b.createElement("button",{ref:a,...r})}function Za(e){const{options:t,className:n,components:r,classNames:a,...s}=e,c=[a[p.Dropdown],n].join(" "),o=t==null?void 0:t.find(({value:l})=>l===s.value);return b.createElement("span",{"data-disabled":s.disabled,className:a[p.DropdownRoot]},b.createElement(r.Select,{className:c,...s},t==null?void 0:t.map(({value:l,label:d,disabled:m})=>b.createElement(r.Option,{key:l,value:l,disabled:m},d))),b.createElement("span",{className:a[p.CaptionLabel],"aria-hidden":!0},o==null?void 0:o.label,b.createElement(r.Chevron,{orientation:"down",size:18,className:a[p.Chevron]})))}function Qa(e){return b.createElement("div",{...e})}function Va(e){return b.createElement("div",{...e})}function Xa(e){const{calendarMonth:t,displayIndex:n,...r}=e;return b.createElement("div",{...r},e.children)}function Ua(e){const{calendarMonth:t,displayIndex:n,...r}=e;return b.createElement("div",{...r})}function Ka(e){return b.createElement("table",{...e})}function Ja(e){return b.createElement("div",{...e})}const Ut=O.createContext(void 0);function We(){const e=O.useContext(Ut);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function es(e){const{components:t}=We();return b.createElement(t.Dropdown,{...e})}function ts(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:a,...s}=e,{components:c,classNames:o,labels:{labelPrevious:l,labelNext:d}}=We(),m=O.useCallback(x=>{a&&(n==null||n(x))},[a,n]),u=O.useCallback(x=>{r&&(t==null||t(x))},[r,t]);return b.createElement("nav",{...s},b.createElement(c.PreviousMonthButton,{type:"button",className:o[p.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:u},b.createElement(c.Chevron,{disabled:r?void 0:!0,className:o[p.Chevron],orientation:"left"})),b.createElement(c.NextMonthButton,{type:"button",className:o[p.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":d(a),onClick:m},b.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:o[p.Chevron]})))}function ns(e){const{components:t}=We();return b.createElement(t.Button,{...e})}function rs(e){return b.createElement("option",{...e})}function as(e){const{components:t}=We();return b.createElement(t.Button,{...e})}function ss(e){const{rootRef:t,...n}=e;return b.createElement("div",{...n,ref:t})}function os(e){return b.createElement("select",{...e})}function is(e){const{week:t,...n}=e;return b.createElement("tr",{...n})}function cs(e){return b.createElement("th",{...e})}function ls(e){return b.createElement("thead",{"aria-hidden":!0},b.createElement("tr",{...e}))}function ds(e){const{week:t,...n}=e;return b.createElement("th",{...n})}function us(e){return b.createElement("th",{...e})}function fs(e){return b.createElement("tbody",{...e})}function hs(e){const{components:t}=We();return b.createElement(t.Dropdown,{...e})}const ms=Object.freeze(Object.defineProperty({__proto__:null,Button:Ra,CaptionLabel:za,Chevron:$a,Day:Ga,DayButton:La,Dropdown:Za,DropdownNav:Qa,Footer:Va,Month:Xa,MonthCaption:Ua,MonthGrid:Ka,Months:Ja,MonthsDropdown:es,Nav:ts,NextMonthButton:ns,Option:rs,PreviousMonthButton:as,Root:ss,Select:os,Week:is,WeekNumber:ds,WeekNumberHeader:us,Weekday:cs,Weekdays:ls,Weeks:fs,YearsDropdown:hs},Symbol.toStringTag,{value:"Module"}));function gs(e){return{...ms,...e}}function ys(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function tt(){const e={};for(const t in p)e[p[t]]=`rdp-${p[t]}`;for(const t in B)e[B[t]]=`rdp-${B[t]}`;for(const t in V)e[V[t]]=`rdp-${V[t]}`;for(const t in z)e[z[t]]=`rdp-${z[t]}`;return e}function Kt(e,t,n){return(n??new ae(t)).format(e,"LLLL y")}const xs=Kt;function bs(e,t,n){return(n??new ae(t)).format(e,"d")}function ws(e,t=J){return t.format(e,"LLLL")}function ps(e,t=J){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function vs(){return""}function Ns(e,t,n){return(n??new ae(t)).format(e,"cccccc")}function Jt(e,t=J){return t.format(e,"yyyy")}const Ds=Jt,Ms=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Kt,formatDay:bs,formatMonthCaption:xs,formatMonthDropdown:ws,formatWeekNumber:ps,formatWeekNumberHeader:vs,formatWeekdayName:Ns,formatYearCaption:Ds,formatYearDropdown:Jt},Symbol.toStringTag,{value:"Module"}));function ks(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Ms,...e}}function js(e,t,n,r,a){const{startOfMonth:s,startOfYear:c,endOfYear:o,eachMonthOfInterval:l,getMonth:d}=a;return l({start:c(e),end:o(e)}).map(x=>{const g=r.formatMonthDropdown(x,a),N=d(x),y=t&&x<s(t)||n&&x>s(n)||!1;return{value:N,label:g,disabled:y}})}function Os(e,t={},n={}){let r={...t==null?void 0:t[p.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{r={...r,...n==null?void 0:n[a]}}),r}function Ss(e,t,n){const r=e.today(),a=t?e.startOfISOWeek(r):e.startOfWeek(r),s=[];for(let c=0;c<7;c++){const o=e.addDays(a,c);s.push(o)}return s}function Ws(e,t,n,r){if(!e||!t)return;const{startOfYear:a,endOfYear:s,addYears:c,getYear:o,isBefore:l,isSameYear:d}=r,m=a(e),u=s(t),x=[];let g=m;for(;l(g,u)||d(g,u);)x.push(g),g=c(g,1);return x.map(N=>{const y=n.formatYearDropdown(N,r);return{value:o(N),label:y,disabled:!1}})}function en(e,t,n){return(n??new ae(t)).format(e,"LLLL y")}const Cs=en;function Ts(e,t,n,r){let a=(r??new ae(n)).format(e,"PPPP");return t!=null&&t.today&&(a=`Today, ${a}`),a}function tn(e,t,n,r){let a=(r??new ae(n)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Es=tn;function Ps(){return""}function _s(e){return"Choose the Month"}function Ys(e){return"Go to the Next Month"}function Bs(e){return"Go to the Previous Month"}function Fs(e,t,n){return(n??new ae(t)).format(e,"cccc")}function As(e,t){return`Week ${e}`}function Is(e){return"Week Number"}function Hs(e){return"Choose the Year"}const qs=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Cs,labelDay:Es,labelDayButton:tn,labelGrid:en,labelGridcell:Ts,labelMonthDropdown:_s,labelNav:Ps,labelNext:Ys,labelPrevious:Bs,labelWeekNumber:As,labelWeekNumberHeader:Is,labelWeekday:Fs,labelYearDropdown:Hs},Symbol.toStringTag,{value:"Module"})),Ce=e=>e instanceof HTMLElement?e:null,Ze=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Rs=e=>Ce(e.querySelector("[data-animated-month]")),Qe=e=>Ce(e.querySelector("[data-animated-caption]")),Ve=e=>Ce(e.querySelector("[data-animated-weeks]")),zs=e=>Ce(e.querySelector("[data-animated-nav]")),$s=e=>Ce(e.querySelector("[data-animated-weekdays]"));function Gs(e,t,{classNames:n,months:r,focused:a,dateLib:s}){const c=O.useRef(null),o=O.useRef(r),l=O.useRef(!1);O.useLayoutEffect(()=>{const d=o.current;if(o.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const m=s.isSameMonth(r[0].date,d[0].date),u=s.isAfter(r[0].date,d[0].date),x=u?n[z.caption_after_enter]:n[z.caption_before_enter],g=u?n[z.weeks_after_enter]:n[z.weeks_before_enter],N=c.current,y=e.current.cloneNode(!0);if(y instanceof HTMLElement?(Ze(y).forEach(w=>{if(!(w instanceof HTMLElement))return;const C=Rs(w);C&&w.contains(C)&&w.removeChild(C);const h=Qe(w);h&&h.classList.remove(x);const j=Ve(w);j&&j.classList.remove(g)}),c.current=y):c.current=null,l.current||m||a)return;const D=N instanceof HTMLElement?Ze(N):[],M=Ze(e.current);if(M&&M.every(k=>k instanceof HTMLElement)&&D&&D.every(k=>k instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const k=zs(e.current);k&&(k.style.zIndex="1"),M.forEach((w,C)=>{const h=D[C];if(!h)return;w.style.position="relative",w.style.overflow="hidden";const j=Qe(w);j&&j.classList.add(x);const f=Ve(w);f&&f.classList.add(g);const v=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),k&&(k.style.zIndex=""),j&&j.classList.remove(x),f&&f.classList.remove(g),w.style.position="",w.style.overflow="",w.contains(h)&&w.removeChild(h)};h.style.pointerEvents="none",h.style.position="absolute",h.style.overflow="hidden",h.setAttribute("aria-hidden","true");const F=$s(h);F&&(F.style.opacity="0");const A=Qe(h);A&&(A.classList.add(u?n[z.caption_before_exit]:n[z.caption_after_exit]),A.addEventListener("animationend",v));const R=Ve(h);R&&R.classList.add(u?n[z.weeks_before_exit]:n[z.weeks_after_exit]),w.insertBefore(h,w.firstChild)})}})}function Ls(e,t,n,r){const a=e[0],s=e[e.length-1],{ISOWeek:c,fixedWeeks:o,broadcastCalendar:l}=n??{},{addDays:d,differenceInCalendarDays:m,differenceInCalendarMonths:u,endOfBroadcastWeek:x,endOfISOWeek:g,endOfMonth:N,endOfWeek:y,isAfter:D,startOfBroadcastWeek:M,startOfISOWeek:k,startOfWeek:w}=r,C=l?M(a,r):c?k(a):w(a),h=l?x(s):c?g(N(s)):y(N(s)),j=m(h,C),f=u(s,a)+1,v=[];for(let R=0;R<=j;R++){const G=d(C,R);if(t&&D(G,t))break;v.push(G)}const A=(l?35:42)*f;if(o&&v.length<A){const R=A-v.length;for(let G=0;G<R;G++){const de=d(v[v.length-1],1);v.push(de)}}return v}function Zs(e){const t=[];return e.reduce((n,r)=>{const a=r.weeks.reduce((s,c)=>[...s,...c.days],t);return[...n,...a]},t)}function Qs(e,t,n,r){const{numberOfMonths:a=1}=n,s=[];for(let c=0;c<a;c++){const o=r.addMonths(e,c);if(t&&o>t)break;s.push(o)}return s}function Mt(e,t,n,r){const{month:a,defaultMonth:s,today:c=r.today(),numberOfMonths:o=1}=e;let l=a||s||c;const{differenceInCalendarMonths:d,addMonths:m,startOfMonth:u}=r;if(n&&d(n,l)<o-1){const x=-1*(o-1);l=m(n,x)}return t&&d(l,t)<0&&(l=t),u(l)}function Vs(e,t,n,r){const{addDays:a,endOfBroadcastWeek:s,endOfISOWeek:c,endOfMonth:o,endOfWeek:l,getISOWeek:d,getWeek:m,startOfBroadcastWeek:u,startOfISOWeek:x,startOfWeek:g}=r,N=e.reduce((y,D)=>{const M=n.broadcastCalendar?u(D,r):n.ISOWeek?x(D):g(D),k=n.broadcastCalendar?s(D):n.ISOWeek?c(o(D)):l(o(D)),w=t.filter(f=>f>=M&&f<=k),C=n.broadcastCalendar?35:42;if(n.fixedWeeks&&w.length<C){const f=t.filter(v=>{const F=C-w.length;return v>k&&v<=a(k,F)});w.push(...f)}const h=w.reduce((f,v)=>{const F=n.ISOWeek?d(v):m(v),A=f.find(G=>G.weekNumber===F),R=new Gt(v,D,r);return A?A.days.push(R):f.push(new Ia(F,[R])),f},[]),j=new Aa(D,h);return y.push(j),y},[]);return n.reverseMonths?N.reverse():N}function Xs(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:a,startOfDay:s,startOfMonth:c,endOfMonth:o,addYears:l,endOfYear:d,newDate:m,today:u}=t,{fromYear:x,toYear:g,fromMonth:N,toMonth:y}=e;!n&&N&&(n=N),!n&&x&&(n=t.newDate(x,0,1)),!r&&y&&(r=y),!r&&g&&(r=m(g,11,31));const D=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):x?n=m(x,0,1):!n&&D&&(n=a(l(e.today??u(),-100))),r?r=o(r):g?r=m(g,11,31):!r&&D&&(r=d(e.today??u())),[n&&s(n),r&&s(r)]}function Us(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:s=1}=n,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:l}=r,d=a?s:1,m=c(e);if(!t)return o(m,d);if(!(l(t,e)<s))return o(m,d)}function Ks(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:s}=n,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:l}=r,d=a?s??1:1,m=c(e);if(!t)return o(m,-d);if(!(l(m,t)<=0))return o(m,-d)}function Js(e){const t=[];return e.reduce((n,r)=>[...n,...r.weeks],t)}function Fe(e,t){const[n,r]=O.useState(e);return[t===void 0?n:t,r]}function eo(e,t){const[n,r]=Xs(e,t),{startOfMonth:a,endOfMonth:s}=t,c=Mt(e,n,r,t),[o,l]=Fe(c,e.month?c:void 0);O.useEffect(()=>{const j=Mt(e,n,r,t);l(j)},[e.timeZone]);const d=Qs(o,r,e,t),m=Ls(d,e.endMonth?s(e.endMonth):void 0,e,t),u=Vs(d,m,e,t),x=Js(u),g=Zs(u),N=Ks(o,n,e,t),y=Us(o,r,e,t),{disableNavigation:D,onMonthChange:M}=e,k=j=>x.some(f=>f.days.some(v=>v.isEqualTo(j))),w=j=>{if(D)return;let f=a(j);n&&f<a(n)&&(f=a(n)),r&&f>a(r)&&(f=a(r)),l(f),M==null||M(f)};return{months:u,weeks:x,days:g,navStart:n,navEnd:r,previousMonth:N,nextMonth:y,goToMonth:w,goToDay:j=>{k(j)||w(j.date)}}}var U;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(U||(U={}));function kt(e){return!e[B.disabled]&&!e[B.hidden]&&!e[B.outside]}function to(e,t,n,r){let a,s=-1;for(const c of e){const o=t(c);kt(o)&&(o[B.focused]&&s<U.FocusedModifier?(a=c,s=U.FocusedModifier):r!=null&&r.isEqualTo(c)&&s<U.LastFocused?(a=c,s=U.LastFocused):n(c.date)&&s<U.Selected?(a=c,s=U.Selected):o[B.today]&&s<U.Today&&(a=c,s=U.Today))}return a||(a=e.find(c=>kt(t(c)))),a}function no(e,t,n,r,a,s,c){const{ISOWeek:o,broadcastCalendar:l}=s,{addDays:d,addMonths:m,addWeeks:u,addYears:x,endOfBroadcastWeek:g,endOfISOWeek:N,endOfWeek:y,max:D,min:M,startOfBroadcastWeek:k,startOfISOWeek:w,startOfWeek:C}=c;let j={day:d,week:u,month:m,year:x,startOfWeek:f=>l?k(f,c):o?w(f):C(f),endOfWeek:f=>l?g(f):o?N(f):y(f)}[e](n,t==="after"?1:-1);return t==="before"&&r?j=D([r,j]):t==="after"&&a&&(j=M([a,j])),j}function nn(e,t,n,r,a,s,c,o=0){if(o>365)return;const l=no(e,t,n.date,r,a,s,c),d=!!(s.disabled&&re(l,s.disabled,c)),m=!!(s.hidden&&re(l,s.hidden,c)),u=l,x=new Gt(l,u,c);return!d&&!m?x:nn(e,t,x,r,a,s,c,o+1)}function ro(e,t,n,r,a){const{autoFocus:s}=e,[c,o]=O.useState(),l=to(t.days,n,r||(()=>!1),c),[d,m]=O.useState(s?l:void 0);return{isFocusTarget:y=>!!(l!=null&&l.isEqualTo(y)),setFocused:m,focused:d,blur:()=>{o(d),m(void 0)},moveFocus:(y,D)=>{if(!d)return;const M=nn(y,D,d,t.navStart,t.navEnd,e,a);M&&(t.goToDay(M),m(M))}}}function ao(e,t){const{selected:n,required:r,onSelect:a}=e,[s,c]=Fe(n,a?n:void 0),o=a?n:s,{isSameDay:l}=t,d=g=>(o==null?void 0:o.some(N=>l(N,g)))??!1,{min:m,max:u}=e;return{selected:o,select:(g,N,y)=>{let D=[...o??[]];if(d(g)){if((o==null?void 0:o.length)===m||r&&(o==null?void 0:o.length)===1)return;D=o==null?void 0:o.filter(M=>!l(M,g))}else(o==null?void 0:o.length)===u?D=[g]:D=[...D,g];return a||c(D),a==null||a(D,g,N,y),D},isSelected:d}}function so(e,t,n=0,r=0,a=!1,s=J){const{from:c,to:o}=t||{},{isSameDay:l,isAfter:d,isBefore:m}=s;let u;if(!c&&!o)u={from:e,to:n>0?void 0:e};else if(c&&!o)l(c,e)?a?u={from:c,to:void 0}:u=void 0:m(e,c)?u={from:e,to:c}:u={from:c,to:e};else if(c&&o)if(l(c,e)&&l(o,e))a?u={from:c,to:o}:u=void 0;else if(l(c,e))u={from:c,to:n>0?void 0:e};else if(l(o,e))u={from:e,to:n>0?void 0:e};else if(m(e,c))u={from:e,to:o};else if(d(e,c))u={from:c,to:e};else if(d(e,o))u={from:c,to:e};else throw new Error("Invalid range");if(u!=null&&u.from&&(u!=null&&u.to)){const x=s.differenceInCalendarDays(u.to,u.from);r>0&&x>r?u={from:e,to:void 0}:n>1&&x<n&&(u={from:e,to:void 0})}return u}function oo(e,t,n=J){const r=Array.isArray(t)?t:[t];let a=e.from;const s=n.differenceInCalendarDays(e.to,e.from),c=Math.min(s,6);for(let o=0;o<=c;o++){if(r.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}function jt(e,t,n=J){return ne(e,t.from,!1,n)||ne(e,t.to,!1,n)||ne(t,e.from,!1,n)||ne(t,e.to,!1,n)}function io(e,t,n=J){const r=Array.isArray(t)?t:[t];if(r.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:n.isDate(o)?ne(e,o,!1,n):Xt(o,n)?o.some(l=>ne(e,l,!1,n)):et(o)?o.from&&o.to?jt(e,{from:o.from,to:o.to},n):!1:Vt(o)?oo(e,o.dayOfWeek,n):Lt(o)?n.isAfter(o.before,o.after)?jt(e,{from:n.addDays(o.after,1),to:n.addDays(o.before,-1)},n):re(e.from,o,n)||re(e.to,o,n):Zt(o)||Qt(o)?re(e.from,o,n)||re(e.to,o,n):!1))return!0;const c=r.filter(o=>typeof o=="function");if(c.length){let o=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=l;d++){if(c.some(m=>m(o)))return!0;o=n.addDays(o,1)}}return!1}function co(e,t){const{disabled:n,excludeDisabled:r,selected:a,required:s,onSelect:c}=e,[o,l]=Fe(a,c?a:void 0),d=c?a:o;return{selected:d,select:(x,g,N)=>{const{min:y,max:D}=e,M=x?so(x,d,y,D,s,t):void 0;return r&&n&&(M!=null&&M.from)&&M.to&&io({from:M.from,to:M.to},n,t)&&(M.from=x,M.to=void 0),c||l(M),c==null||c(M,x,g,N),M},isSelected:x=>d&&ne(d,x,!1,t)}}function lo(e,t){const{selected:n,required:r,onSelect:a}=e,[s,c]=Fe(n,a?n:void 0),o=a?n:s,{isSameDay:l}=t;return{selected:o,select:(u,x,g)=>{let N=u;return!r&&o&&o&&l(u,o)&&(N=void 0),a||c(N),a==null||a(N,u,x,g),N},isSelected:u=>o?l(o,u):!1}}function uo(e,t){const n=lo(e,t),r=ao(e,t),a=co(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return a;default:return}}function fo(e){var it;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new q(t.today,t.timeZone)),t.month&&(t.month=new q(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new q(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new q(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new q(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new q(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(it=t.selected)==null?void 0:it.map(S=>new q(S,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new q(t.selected.from,t.timeZone):void 0,to:t.selected.to?new q(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:a,dateLib:s,locale:c,classNames:o}=O.useMemo(()=>{const S={...Je,...t.locale};return{dateLib:new ae({locale:S,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:gs(t.components),formatters:ks(t.formatters),labels:{...qs,...t.labels},locale:S,classNames:{...tt(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:d,navLayout:m,numberOfMonths:u=1,onDayBlur:x,onDayClick:g,onDayFocus:N,onDayKeyDown:y,onDayMouseEnter:D,onDayMouseLeave:M,onNextClick:k,onPrevClick:w,showWeekNumber:C,styles:h}=t,{formatCaption:j,formatDay:f,formatMonthDropdown:v,formatWeekNumber:F,formatWeekNumberHeader:A,formatWeekdayName:R,formatYearDropdown:G}=r,de=eo(t,s),{days:ue,months:fe,navStart:Te,navEnd:Ae,previousMonth:L,nextMonth:Z,goToMonth:ee}=de,Ie=Ha(ue,t,Te,Ae,s),{isSelected:we,select:pe,selected:Ee}=uo(t,s)??{},{blur:nt,focused:Pe,isFocusTarget:rn,moveFocus:rt,setFocused:_e}=ro(t,de,Ie,we??(()=>!1),s),{labelDayButton:an,labelGridcell:sn,labelGrid:on,labelMonthDropdown:cn,labelNav:at,labelPrevious:ln,labelNext:dn,labelWeekday:un,labelWeekNumber:fn,labelWeekNumberHeader:hn,labelYearDropdown:mn}=a,gn=O.useMemo(()=>Ss(s,t.ISOWeek),[s,t.ISOWeek]),st=d!==void 0||g!==void 0,He=O.useCallback(()=>{L&&(ee(L),w==null||w(L))},[L,ee,w]),qe=O.useCallback(()=>{Z&&(ee(Z),k==null||k(Z))},[ee,Z,k]),yn=O.useCallback((S,Y)=>T=>{T.preventDefault(),T.stopPropagation(),_e(S),pe==null||pe(S.date,Y,T),g==null||g(S.date,Y,T)},[pe,g,_e]),xn=O.useCallback((S,Y)=>T=>{_e(S),N==null||N(S.date,Y,T)},[N,_e]),bn=O.useCallback((S,Y)=>T=>{nt(),x==null||x(S.date,Y,T)},[nt,x]),wn=O.useCallback((S,Y)=>T=>{const se={ArrowLeft:[T.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[T.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[T.shiftKey?"year":"week","after"],ArrowUp:[T.shiftKey?"year":"week","before"],PageUp:[T.shiftKey?"year":"month","before"],PageDown:[T.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(se[T.key]){T.preventDefault(),T.stopPropagation();const[Q,Ye]=se[T.key];rt(Q,Ye)}y==null||y(S.date,Y,T)},[rt,y,t.dir]),pn=O.useCallback((S,Y)=>T=>{D==null||D(S.date,Y,T)},[D]),vn=O.useCallback((S,Y)=>T=>{M==null||M(S.date,Y,T)},[M]),Nn=O.useCallback(S=>Y=>{const T=Number(Y.target.value),se=s.setMonth(s.startOfMonth(S),T);ee(se)},[s,ee]),Dn=O.useCallback(S=>Y=>{const T=Number(Y.target.value),se=s.setYear(s.startOfMonth(S),T);ee(se)},[s,ee]),{className:Mn,style:kn}=O.useMemo(()=>({className:[o[p.Root],t.className].filter(Boolean).join(" "),style:{...h==null?void 0:h[p.Root],...t.style}}),[o,t.className,t.style,h]),jn=ys(t),ot=O.useRef(null);Gs(ot,!!t.animate,{classNames:o,months:fe,focused:Pe,dateLib:s});const On={dayPickerProps:t,selected:Ee,select:pe,isSelected:we,months:fe,nextMonth:Z,previousMonth:L,goToMonth:ee,getModifiers:Ie,components:n,classNames:o,styles:h,labels:a,formatters:r};return b.createElement(Ut.Provider,{value:On},b.createElement(n.Root,{rootRef:t.animate?ot:void 0,className:Mn,style:kn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...jn},b.createElement(n.Months,{className:o[p.Months],style:h==null?void 0:h[p.Months]},!t.hideNavigation&&!m&&b.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[p.Nav],style:h==null?void 0:h[p.Nav],"aria-label":at(),onPreviousClick:He,onNextClick:qe,previousMonth:L,nextMonth:Z}),fe.map((S,Y)=>{const T=js(S.date,Te,Ae,r,s),se=Ws(Te,Ae,r,s);return b.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:o[p.Month],style:h==null?void 0:h[p.Month],key:Y,displayIndex:Y,calendarMonth:S},m==="around"&&!t.hideNavigation&&Y===0&&b.createElement(n.PreviousMonthButton,{type:"button",className:o[p.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":ln(L),onClick:He,"data-animated-button":t.animate?"true":void 0},b.createElement(n.Chevron,{disabled:L?void 0:!0,className:o[p.Chevron],orientation:t.dir==="rtl"?"right":"left"})),b.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[p.MonthCaption],style:h==null?void 0:h[p.MonthCaption],calendarMonth:S,displayIndex:Y},l!=null&&l.startsWith("dropdown")?b.createElement(n.DropdownNav,{className:o[p.Dropdowns],style:h==null?void 0:h[p.Dropdowns]},l==="dropdown"||l==="dropdown-months"?b.createElement(n.MonthsDropdown,{className:o[p.MonthsDropdown],"aria-label":cn(),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:Nn(S.date),options:T,style:h==null?void 0:h[p.Dropdown],value:s.getMonth(S.date)}):b.createElement("span",null,v(S.date,s)),l==="dropdown"||l==="dropdown-years"?b.createElement(n.YearsDropdown,{className:o[p.YearsDropdown],"aria-label":mn(s.options),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:Dn(S.date),options:se,style:h==null?void 0:h[p.Dropdown],value:s.getYear(S.date)}):b.createElement("span",null,G(S.date,s)),b.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},j(S.date,s.options,s))):b.createElement(n.CaptionLabel,{className:o[p.CaptionLabel],role:"status","aria-live":"polite"},j(S.date,s.options,s))),m==="around"&&!t.hideNavigation&&Y===u-1&&b.createElement(n.NextMonthButton,{type:"button",className:o[p.NextMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":dn(Z),onClick:qe,"data-animated-button":t.animate?"true":void 0},b.createElement(n.Chevron,{disabled:Z?void 0:!0,className:o[p.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Y===u-1&&m==="after"&&!t.hideNavigation&&b.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[p.Nav],style:h==null?void 0:h[p.Nav],"aria-label":at(),onPreviousClick:He,onNextClick:qe,previousMonth:L,nextMonth:Z}),b.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":on(S.date,s.options,s)||void 0,className:o[p.MonthGrid],style:h==null?void 0:h[p.MonthGrid]},!t.hideWeekdays&&b.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[p.Weekdays],style:h==null?void 0:h[p.Weekdays]},C&&b.createElement(n.WeekNumberHeader,{"aria-label":hn(s.options),className:o[p.WeekNumberHeader],style:h==null?void 0:h[p.WeekNumberHeader],scope:"col"},A()),gn.map((Q,Ye)=>b.createElement(n.Weekday,{"aria-label":un(Q,s.options,s),className:o[p.Weekday],key:Ye,style:h==null?void 0:h[p.Weekday],scope:"col"},R(Q,s.options,s)))),b.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[p.Weeks],style:h==null?void 0:h[p.Weeks]},S.weeks.map((Q,Ye)=>b.createElement(n.Week,{className:o[p.Week],key:Q.weekNumber,style:h==null?void 0:h[p.Week],week:Q},C&&b.createElement(n.WeekNumber,{week:Q,style:h==null?void 0:h[p.WeekNumber],"aria-label":fn(Q.weekNumber,{locale:c}),className:o[p.WeekNumber],scope:"row",role:"rowheader"},F(Q.weekNumber,s)),Q.days.map(H=>{const{date:X}=H,E=Ie(H);if(E[B.focused]=!E.hidden&&!!(Pe!=null&&Pe.isEqualTo(H)),E[V.selected]=(we==null?void 0:we(X))||E.selected,et(Ee)){const{from:Re,to:ze}=Ee;E[V.range_start]=!!(Re&&ze&&s.isSameDay(X,Re)),E[V.range_end]=!!(Re&&ze&&s.isSameDay(X,ze)),E[V.range_middle]=ne(Ee,X,!0,s)}const Sn=Os(E,h,t.modifiersStyles),Wn=qa(E,o,t.modifiersClassNames),Cn=!st&&!E.hidden?sn(X,E,s.options,s):void 0;return b.createElement(n.Day,{key:`${s.format(X,"yyyy-MM-dd")}_${s.format(H.displayMonth,"yyyy-MM")}`,day:H,modifiers:E,className:Wn.join(" "),style:Sn,role:"gridcell","aria-selected":E.selected||void 0,"aria-label":Cn,"data-day":s.format(X,"yyyy-MM-dd"),"data-month":H.outside?s.format(X,"yyyy-MM"):void 0,"data-selected":E.selected||void 0,"data-disabled":E.disabled||void 0,"data-hidden":E.hidden||void 0,"data-outside":H.outside||void 0,"data-focused":E.focused||void 0,"data-today":E.today||void 0},!E.hidden&&st?b.createElement(n.DayButton,{className:o[p.DayButton],style:h==null?void 0:h[p.DayButton],type:"button",day:H,modifiers:E,disabled:E.disabled||void 0,tabIndex:rn(H)?0:-1,"aria-label":an(X,E,s.options,s),onClick:yn(H,E),onBlur:bn(H,E),onFocus:xn(H,E),onKeyDown:wn(H,E),onMouseEnter:pn(H,E),onMouseLeave:vn(H,E)},f(X,s.options,s)):!E.hidden&&f(H.date,s.options,s))}))))))})),t.footer&&b.createElement(n.Footer,{className:o[p.Footer],style:h==null?void 0:h[p.Footer],role:"status","aria-live":"polite"},t.footer)))}function Ot({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:a="ghost",formatters:s,components:c,...o}){const l=tt();return i.jsx(fo,{showOutsideDays:n,className:W("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...s},classNames:{root:W("w-fit",l.root),months:W("flex gap-4 flex-col md:flex-row relative",l.months),month:W("flex flex-col w-full gap-4",l.month),nav:W("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:W(ht({variant:a}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:W(ht({variant:a}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:W("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:W("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",l.dropdowns),dropdown_root:W("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:W("absolute inset-0 opacity-0",l.dropdown),caption_label:W("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:W("flex",l.weekdays),weekday:W("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:W("flex w-full mt-2",l.week),week_number_header:W("select-none w-(--cell-size)",l.week_number_header),week_number:W("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:W("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",l.day),range_start:W("rounded-l-md bg-accent",l.range_start),range_middle:W("rounded-none",l.range_middle),range_end:W("rounded-r-md bg-accent",l.range_end),today:W("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:W("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:W("text-muted-foreground opacity-50",l.disabled),hidden:W("invisible",l.hidden),...t},components:{Root:({className:d,rootRef:m,...u})=>i.jsx("div",{"data-slot":"calendar",ref:m,className:W(d),...u}),Chevron:({className:d,orientation:m,...u})=>m==="left"?i.jsx(Yn,{className:W("size-4",d),...u}):m==="right"?i.jsx(Bn,{className:W("size-4",d),...u}):i.jsx(Fn,{className:W("size-4",d),...u}),DayButton:ho,WeekNumber:({children:d,...m})=>i.jsx("td",{...m,children:i.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:d})}),...c},...o})}function ho({className:e,day:t,modifiers:n,...r}){const a=tt(),s=O.useRef(null);return O.useEffect(()=>{var c;n.focused&&((c=s.current)==null||c.focus())},[n.focused]),i.jsx($,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:W("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",a.day,e),...r})}function St({label:e,value:t,options:n,placeholder:r="Select...",onChange:a,maxVisible:s=4}){const[c,o]=O.useState(!1),[l,d]=O.useState(""),m=n.filter(u=>u.toLowerCase().includes(l.toLowerCase())).slice(0,s);return i.jsxs("div",{children:[e&&i.jsx("label",{className:"block mb-1 text-sm font-medium",children:e}),i.jsxs(Xe,{open:c,onOpenChange:o,children:[i.jsx(Be,{asChild:!0,children:i.jsx("button",{type:"button",className:W("w-full border rounded-md px-3 py-2 text-left bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500",!t&&"text-gray-400"),children:t||i.jsx("span",{children:r})})}),i.jsxs(Ue,{className:"p-2 w-64",children:[i.jsx(Xn,{autoFocus:!0,placeholder:"Search...",value:l,onChange:u=>d(u.target.value),className:"mb-2"}),i.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[m.length===0&&i.jsx("div",{className:"text-gray-400 text-sm px-2 py-1",children:"No results"}),m.map(u=>i.jsx("div",{className:W("px-3 py-2 rounded cursor-pointer hover:bg-teal-100",t===u&&"bg-teal-600 text-white"),onClick:()=>{a(u),o(!1),d("")},children:u},u))]})]})]})]})}function mo({amenity:e}){const t={AC:i.jsx(Qn,{className:"h-3 w-3 text-blue-500"}),WiFi:i.jsx(Zn,{className:"h-3 w-3 text-green-500"}),USB:i.jsx(ut,{className:"h-3 w-3 text-yellow-500"}),Sleeper:i.jsx(Ln,{className:"h-3 w-3 text-purple-500"})};return i.jsxs("div",{className:"flex items-center gap-1 text-xs bg-gray-100 px-2 py-1 rounded-full",children:[t[e]||i.jsx(ut,{className:"h-3 w-3 text-gray-500"}),i.jsx("span",{children:e})]})}function Wt({schedule:e,onSelectSeats:t,onResetSeats:n,onViewDetails:r}){const a=e.seats.filter(d=>!d.isBooked).length,s=e.seats.length,c=Math.round((s-a)/s*100),l=(d=>({"AC Sleeper":["AC","Sleeper","WiFi","USB"],"Non-AC Sleeper":["Sleeper","USB"],"AC Seater":["AC","WiFi","USB"],"Non-AC Seater":["USB"]})[d]||["USB"])(e.bus.layoutType);return i.jsx(ie,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-teal-50/30 hover:shadow-xl transition-all duration-200",children:i.jsx(ce,{className:"p-4",children:i.jsxs("div",{className:"grid lg:grid-cols-12 gap-3 items-center",children:[i.jsxs("div",{className:"lg:col-span-5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ct,{className:"h-4 w-4 text-teal-600"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-sm",children:[e.route.origin,"  ",e.route.destination]}),i.jsx("p",{className:"text-xs text-gray-500",children:te(new Date(e.departure),"MMM dd, yyyy HH:mm")})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(De,{className:"h-3 w-3 text-gray-400"}),i.jsxs("span",{className:"text-xs text-gray-600",children:[e.bus.name," (",e.bus.layoutType,")"]})]}),i.jsx("div",{className:"flex items-center gap-1",children:l.map(d=>i.jsx(mo,{amenity:d},d))})]}),i.jsxs("div",{className:"lg:col-span-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(zn,{className:"h-3 w-3 text-gray-400"}),i.jsxs("span",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-green-600",children:a})," ","available"]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx($n,{className:"h-3 w-3 text-gray-400"}),i.jsxs("span",{className:"text-xs text-gray-600",children:[c,"% occupied"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:i.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${c>=80?"bg-red-500":c>=60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${c}%`}})})]}),i.jsxs("div",{className:"lg:col-span-2 text-center",children:[i.jsx("div",{className:"text-lg font-bold text-teal-600 mb-1",children:go(e.fare)}),i.jsx("div",{className:"text-xs text-gray-500",children:"per seat"})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-2",children:[i.jsx($,{onClick:()=>t(e),className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-xs",children:"Select Seats"}),i.jsxs($,{variant:"outline",size:"sm",className:"w-full border-teal-200 hover:bg-teal-50 text-xs",onClick:d=>{d.stopPropagation(),r(e)},children:[i.jsx(Gn,{className:"h-3 w-3 mr-1"}),"View Details"]}),i.jsx($,{variant:"outline",size:"sm",className:"w-full text-xs text-red-600 border-red-200 hover:bg-red-50",onClick:d=>{d.stopPropagation(),n(e.id)},children:"Reset Seats (Dev)"})]})]})})})}const go=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"NPR",minimumFractionDigits:0}).format(e);function Oo(){const e=Vn(),[t,n]=O.useState([]),[r,a]=O.useState([]),[s,c]=O.useState([]),[o,l]=O.useState(!1),[d,m]=O.useState(null),[u,x]=O.useState(!1),[g,N]=O.useState(null),[y,D]=O.useState({tripType:"oneway",from:"",to:"",departureDate:new Date,returnDate:null});O.useEffect(()=>{M()},[]);const M=async()=>{try{l(!0);const f=await Un.getAllLocations();n(f.data)}catch(f){console.error("Error fetching locations:",f),m("Failed to fetch locations. Please try again.")}finally{l(!1)}},k=async()=>{var f,v;if(!y.from||!y.to||!y.departureDate){m("Please fill in all required fields");return}if(y.tripType==="roundtrip"&&!y.returnDate){m("Please select a return date for round trip");return}try{l(!0),m(null);const F={origin:y.from,destination:y.to,departureDate:te(y.departureDate,"yyyy-MM-dd"),tripType:y.tripType};y.tripType==="roundtrip"&&y.returnDate&&(F.returnDate=te(y.returnDate,"yyyy-MM-dd"));const A=await Jn.searchSchedules(F);y.tripType==="roundtrip"?(a(A.data.outbound||[]),c(A.data.return||[])):(a(A.data),c([]))}catch(F){console.error("Error searching schedules:",F),m(((v=(f=F.response)==null?void 0:f.data)==null?void 0:v.error)||"Failed to search schedules. Please try again.")}finally{l(!1)}},w=f=>{e("/bookings/new",{state:{schedule:f}})},C=async f=>{try{await er.resetSeatStatus(f),y.from&&y.to&&k()}catch(v){console.error("Error resetting seats:",v)}},h=()=>{D(f=>({...f,from:f.to,to:f.from}))},j=r.sort((f,v)=>new Date(f.departure).getTime()-new Date(v.departure).getTime());return i.jsxs(nr,{children:[i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-gradient-to-r from-white via-teal-50/50 to-cyan-50/50 backdrop-blur supports-[backdrop-filter]:bg-white/80 border-b border-teal-100 shadow-sm px-4 py-4",children:i.jsx("div",{className:"max-w-7xl",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex aspect-square size-10 items-center justify-center rounded-xl bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 text-white shadow-lg",children:i.jsx(De,{className:"h-5 w-5"})}),i.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Bus Search"})]})})}),i.jsxs("div",{className:"w-full mx-auto p-4",children:[i.jsxs(ie,{className:"mb-6 shadow-xl border-0 bg-gradient-to-br from-white to-teal-50/30",children:[i.jsxs(he,{className:"text-center bg-gradient-to-r from-teal-50 to-cyan-50 rounded-t-lg",children:[i.jsx(me,{className:"text-2xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Search Available Buses"}),i.jsx(Kn,{className:"text-gray-600",children:"Find and book buses for your customers"})]}),i.jsxs(ce,{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsxs(tr,{value:y.tripType,onValueChange:f=>D(v=>({...v,tripType:f})),className:"flex gap-8",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(mt,{value:"oneway",id:"oneway"}),i.jsx(ge,{htmlFor:"oneway",className:"font-medium",children:"One Way"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(mt,{value:"roundtrip",id:"roundtrip"}),i.jsx(ge,{htmlFor:"roundtrip",className:"font-medium",children:"Round Trip"})]})]})}),i.jsxs("div",{className:"grid md:grid-cols-5 gap-4 items-end",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"from",children:"From"}),i.jsx(St,{label:void 0,value:y.from,options:t,placeholder:"Departure city",onChange:f=>D(v=>({...v,from:f})),maxVisible:4})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx($,{variant:"outline",size:"icon",onClick:h,children:i.jsx(An,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{htmlFor:"to",children:"To"}),i.jsx(St,{label:void 0,value:y.to,options:t,placeholder:"Destination city",onChange:f=>D(v=>({...v,to:f})),maxVisible:4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{children:"Departure Date"}),i.jsxs(Xe,{children:[i.jsx(Be,{asChild:!0,children:i.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[i.jsx($e,{className:"mr-2 h-4 w-4"}),te(y.departureDate,"MMM dd")]})}),i.jsx(Ue,{className:"w-auto p-0",align:"start",children:i.jsx(Ot,{mode:"single",selected:y.departureDate,onSelect:f=>f&&D(v=>({...v,departureDate:f})),disabled:f=>f<new Date,initialFocus:!0})})]})]}),i.jsx($,{onClick:k,disabled:o,className:"h-12 px-8 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",size:"lg",children:o?i.jsxs(i.Fragment,{children:[i.jsx(In,{className:"h-5 w-5 mr-2 animate-spin"}),"Searching..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Hn,{className:"h-5 w-5 mr-2"}),"Search Buses",i.jsx(qn,{className:"h-4 w-4 ml-2"})]})})]}),y.tripType==="roundtrip"&&i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[i.jsx(ge,{children:"Return Date"}),i.jsxs(Xe,{children:[i.jsx(Be,{asChild:!0,children:i.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[i.jsx($e,{className:"mr-2 h-4 w-4"}),y.returnDate?te(y.returnDate,"MMM dd"):"Select return date"]})}),i.jsx(Ue,{className:"w-auto p-0",align:"start",children:i.jsx(Ot,{mode:"single",selected:y.returnDate||void 0,onSelect:f=>D(v=>({...v,returnDate:f||null})),disabled:f=>f<y.departureDate,initialFocus:!0})})]})]})})]})]}),d&&i.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ct,{className:"h-5 w-5 mr-2"}),d]})}),(r.length>0||s.length>0)&&i.jsxs("div",{className:"space-y-6",children:[r.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg shadow",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold",children:[y.tripType==="roundtrip"?"Outbound: ":"",y.from,"  ",y.to]}),i.jsxs("p",{className:"text-gray-600",children:[te(y.departureDate,"EEEE, MMMM d, yyyy")," "," ",r.length," buses found"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs($,{variant:"outline",size:"sm",children:[i.jsx(lt,{className:"h-4 w-4 mr-2"}),"Filter"]}),i.jsxs($,{variant:"outline",size:"sm",children:[i.jsx(dt,{className:"h-4 w-4 mr-2"}),"Sort by Price"]})]})]}),i.jsx("div",{className:"space-y-4",children:j.map(f=>i.jsx(Wt,{schedule:f,onSelectSeats:w,onResetSeats:C,onViewDetails:v=>{N(v),x(!0)}},f.id))})]}),s.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg shadow border-l-4 border-blue-500",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-blue-700",children:["Return: ",y.to,"  ",y.from]}),i.jsxs("p",{className:"text-blue-600",children:[y.returnDate&&te(y.returnDate,"EEEE, MMMM d, yyyy")," "," ",s.length," buses found"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs($,{variant:"outline",size:"sm",className:"border-blue-200 hover:bg-blue-50",children:[i.jsx(lt,{className:"h-4 w-4 mr-2"}),"Filter"]}),i.jsxs($,{variant:"outline",size:"sm",className:"border-blue-200 hover:bg-blue-50",children:[i.jsx(dt,{className:"h-4 w-4 mr-2"}),"Sort by Price"]})]})]}),i.jsx("div",{className:"space-y-4",children:s.sort((f,v)=>new Date(f.departure).getTime()-new Date(v.departure).getTime()).map(f=>i.jsx(Wt,{schedule:f,onSelectSeats:w,onResetSeats:C,onViewDetails:v=>{N(v),x(!0)}},`return-${f.id}`))})]})]}),!o&&r.length===0&&s.length===0&&y.from&&y.to&&i.jsx(ie,{children:i.jsxs(ce,{className:"text-center py-12",children:[i.jsx(De,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No buses found"}),i.jsx("p",{className:"text-gray-500",children:y.tripType==="roundtrip"?"Try searching for different routes or dates for your round trip":"Try searching for a different route or date"})]})})]})]}),i.jsx(rr,{open:u,onOpenChange:x,children:i.jsxs(ar,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(sr,{children:[i.jsxs(or,{className:"flex items-center gap-2",children:[i.jsx(De,{className:"h-5 w-5 text-teal-600"}),"Bus & Schedule Details - ",g==null?void 0:g.bus.name]}),i.jsx(ir,{children:"Complete information about the bus and schedule"})]}),g&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-teal-600",children:g.seats.filter(f=>!f.isBooked).length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Available Seats"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.seats.filter(f=>f.isBooked).length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Booked Seats"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Rs. ",g.fare]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Fare per Seat"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(g.seats.filter(f=>f.isBooked).length/g.bus.seatCount*100),"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Occupancy"})]})]}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ie,{className:"shadow-sm",children:[i.jsx(he,{className:"pb-2",children:i.jsxs(me,{className:"flex items-center gap-2 text-base",children:[i.jsx(Ct,{className:"h-4 w-4 text-teal-600"}),"Route Details"]})}),i.jsxs(ce,{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"From:"}),i.jsx("span",{className:"font-medium",children:g.route.origin})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"To:"}),i.jsx("span",{className:"font-medium",children:g.route.destination})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Route ID:"}),i.jsxs("span",{className:"font-medium",children:["#",g.route.id]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Trip Type:"}),i.jsx(ft,{variant:g.isReturn?"default":"secondary",className:"text-xs",children:g.isReturn?"Return":"One Way"})]})]})]}),i.jsxs(ie,{className:"shadow-sm",children:[i.jsx(he,{className:"pb-2",children:i.jsxs(me,{className:"flex items-center gap-2 text-base",children:[i.jsx($e,{className:"h-4 w-4 text-blue-600"}),"Schedule Details"]})}),i.jsxs(ce,{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Date:"}),i.jsx("span",{className:"font-medium",children:te(new Date(g.departure),"MMM dd, yyyy")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Time:"}),i.jsx("span",{className:"font-medium",children:te(new Date(g.departure),"HH:mm")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Schedule ID:"}),i.jsxs("span",{className:"font-medium",children:["#",g.id]})]})]})]}),i.jsxs(ie,{className:"shadow-sm",children:[i.jsx(he,{className:"pb-2",children:i.jsxs(me,{className:"flex items-center gap-2 text-base",children:[i.jsx(De,{className:"h-4 w-4 text-purple-600"}),"Bus Specifications"]})}),i.jsxs(ce,{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Bus ID:"}),i.jsxs("span",{className:"font-medium",children:["#",g.bus.id]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Layout:"}),i.jsx("span",{className:"font-medium",children:g.bus.layoutType})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Total Seats:"}),i.jsx("span",{className:"font-medium",children:g.bus.seatCount})]})]})]})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(ie,{className:"shadow-sm h-full",children:[i.jsx(he,{className:"pb-2",children:i.jsxs(me,{className:"flex items-center gap-2 text-base",children:[i.jsx(Rn,{className:"h-4 w-4 text-green-600"}),"Seat Layout & Availability"]})}),i.jsx(ce,{className:"flex justify-center",children:i.jsx(dr,{seats:g.seats,layoutType:g.bus.layoutType,busName:g.bus.name,compact:!0,showLegend:!0})})]})})]}),g.seats.filter(f=>f.isBooked).length>0&&i.jsxs(ie,{className:"shadow-sm",children:[i.jsx(he,{className:"pb-2",children:i.jsxs(me,{className:"flex items-center gap-2 text-base",children:[i.jsx(ct,{className:"h-4 w-4 text-red-600"}),"Booked Seats (",g.seats.filter(f=>f.isBooked).length,")"]})}),i.jsx(ce,{children:i.jsx("div",{className:"flex flex-wrap gap-2",children:g.seats.filter(f=>f.isBooked).map(f=>i.jsx(ft,{variant:"destructive",className:"text-xs",children:f.seatNumber},f.id))})})]})]}),i.jsx(cr,{children:i.jsx(lr,{onClick:()=>x(!1),children:"Close"})})]})})]})}export{Oo as BusSearchPage};
